---
const { class: className = "" } = Astro.props;
---

<div class={`reveal ${className}`}>
  <slot />
</div>

<style>
  .reveal { opacity: 1; transform: none; } /* âœ… default visible */
  @media (prefers-reduced-motion: no-preference) {
    .reveal { opacity: 0; transform: translateY(14px); transition: opacity .6s ease, transform .6s ease; }
    .reveal.in { opacity: 1; transform: none; }
  }
</style>

<script is:inline>
  window.addEventListener("DOMContentLoaded", () => {
    const els = document.querySelectorAll(".reveal");
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => { if (e.isIntersecting) e.target.classList.add("in"); });
    }, { threshold: 0.12 });
    els.forEach(el => io.observe(el));
  });
</script>
